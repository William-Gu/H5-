<!DOCTYPE html>
<html>
<title>....</title>
<meta type="generator" content="editplus"/>
<meta type="author" content=""/>
<meta type="keywords" content=""/>
<meta type="description" content=""/>
<meta charset="utf-8"/>
<head>
 <style type='text/css'>
 
 </style>
 <!--  <script src='jquery-1.11.3.js'></script>-->
</head>
<body>
	<canvas id='canvas' width='1000' height='300' style='background:#aaa'>

	</canvas>
<script>
	var cvs=document.getElementById('canvas');
	var ctx=cvs.getContext('2d');
	var lg=ctx.createLinearGradient(0,0,1000,300)
												//(x角度，y角度，x偏移度，y偏移度)
	lg.addColorStop(0,'red');
	lg.addColorStop(0.15,'orange');
	lg.addColorStop(0.3,'yellow');
	lg.addColorStop(0.45,'green');
	lg.addColorStop(0.6,'cyan');
	lg.addColorStop(0.75,'blue');
	lg.addColorStop(0.9,'purple');

	ctx.fillStyle=lg
	var t=setInterval(draw,20)
	var x=0,y=100
	var speed=10;
	function draw(){
		ctx.fillRect(x,y,100,100);
		ctx.clearRect(x-100,y,100,100)
		x+=speed;
		if(x==900){
			clearInterval(t);
			t2=setInterval(draw2,20)
		}
	}
	function draw2(){
		ctx.fillRect(x,y,100,100);
		ctx.clearRect(x+100,y,100,100)
		x-=speed;
		if(x==0){
			clearInterval(t2);
			t=setInterval(draw,20)
		}
	}
</script>
</body>
</html>